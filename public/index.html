<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AVMeme Exam</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        :root {
            --primary: #bbe1ee;
            --primary-dark: #8cbac8;
            --secondary: #393e46;
            --accent: #ff2e63;
            --bg: #f0f2f5;
            --card-bg: #ffffff;
            --text-main: #333333;
            --text-sub: #666666;
        }

        /* --- SCROLL SNAP & SLIDE LAYOUT --- */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
            background-color: var(--bg);
            color: var(--text-main);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            user-select: none;
        }

        .slide {
            width: 100%;
            min-height: 100vh; 
            height: auto;        
            scroll-snap-align: start;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding-top: 20px;
            padding-bottom: 60px;
            position: relative;
            overflow: visible;
            box-sizing: border-box; 
        }

        /* --- SLIDE 1: HEADER & WHEEL --- */
        header {
            text-align: center;
            z-index: 10;
            margin-bottom: 10px;
            pointer-events: none;
            flex-shrink: 0;
            width: 95%;
        }

        .logo {
            width: 80%;
            max-width: 800px;
            height: auto;
            display: block;
            margin: 0 auto 5px auto; 
            filter: drop-shadow(0 0 5px rgba(0,0,0,0.2)); 
        }

        p.subtitle { color: #888; font-style: italic; margin-top: 0; font-size: 1rem; }

        .main-description {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            color: #666;
            font-size: 1.2rem;
            line-height: 1.4;
            max-width: 800px;
            margin: 5px auto 0 auto;
            font-weight: 500;
            text-align: center;
        }

        /* SCENE (Drag Area) */
        .scene {
            position: relative;
            width: 100%;              
            max-width: 1800px;        
            margin: 0 auto 10px auto;
            height: 150px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: grab;
            touch-action: none;
            flex-shrink: 0;
            margin-bottom: 20px; 
            overflow: visible; 
            perspective: 1000px;
        }
        .scene:active { cursor: grabbing; }

        .orbit {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .item {
            position: absolute;
            width: 120px;
            height: 80px;
            background: #000;
            border: 2px solid var(--secondary);
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.5;
            background-size: cover;
            background-position: center;
            color: white; 
            top: 50%;
            left: 50%;
            margin-left: -60px; 
            margin-top: -40px;  
            transition: border-color 0.3s, box-shadow 0.3s, opacity 0.3s;
        }

        .item.active {
            border-color: var(--primary);
            box-shadow: 0 0 30px var(--primary);
            opacity: 1;
            z-index: 100;
        }

        .item-label {
            position: absolute;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            width: 100%;
            text-align: center;
            font-size: 0.6rem;
            padding: 4px 0;
            color: white;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .nav-cue { position: absolute; top: 50%; font-size: 2rem; color: rgba(0,0,0,0.1); pointer-events: none; z-index: 50; }
        .nav-cue.left { left: 10px; }
        .nav-cue.right { right: 10px; }

        /* --- MEME CARD CONTAINER --- */
        .meme-card-container {
            width: 85%;
            max-width: 1600px;
            background: var(--card-bg);
            border-top: 5px solid var(--primary);
            padding: 25px;
            display: flex;
            gap: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
            flex-shrink: 0;
            height: auto; 
            opacity: 1;
            transform: translateY(0);
            transition: opacity 0.5s ease, transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
            margin-bottom: 40px; 
            box-sizing: border-box;
        }

        .meme-card-container.hidden {
            opacity: 0;
            transform: translateY(30px);
            pointer-events: none;
        }

        .video-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-width: 400px; 
            min-width: 250px;
        }

        .video-placeholder {
            width: 100%;
            aspect-ratio: 16/9; 
            background: #000;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .video-placeholder video { width: 100%; height: 100%; object-fit: contain; }
        
        .audio-mode-container {
            position: relative; width: 100%; height: 100%;
            display: flex; flex-direction: column;
        }
        .audio-mode-container img.audio-poster {
            width: 100%; height: calc(100% - 40px); object-fit: contain; opacity: 0.9;
        }
        .audio-mode-container audio { width: 100%; height: 40px; background: #f1f3f4; }
        .speaker-overlay {
            position: absolute; top: 45%; left: 50%; transform: translate(-50%, -50%);
            width: 60px; height: 60px; pointer-events: none; opacity: 0.8;
            background: rgba(0,0,0,0.5); border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
        }
        .speaker-overlay svg { fill: white; width: 30px; height: 30px; }

        .metadata-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 5px;
            font-size: 0.85rem; color: var(--text-sub);
            background: #f8f9fa; padding: 10px; border-radius: 8px; border: 1px solid #eee;
        }
        .meta-item strong { color: #222; display: block; }
        .meta-full { grid-column: span 2; }

        /* --- INFO PANEL --- */
        .info-panel {
            flex: 1.5;
            display: flex;
            flex-direction: column;
            height: auto; 
            padding-right: 0;
            min-width: 0; 
        }

        .header-row {
            display: flex; justify-content: space-between; align-items: flex-end;
            border-bottom: 2px solid #f0f0f0; padding-bottom: 5px; margin-bottom: 8px;
            flex-wrap: wrap; 
        }
        h2 { margin: 0; font-size: 1.5rem; color: #111; word-break: break-word;}
        .year-tag { font-family: monospace; color: #999; font-size: 1rem; font-weight: bold; }

        .tags-row { display: flex; gap: 6px; margin-bottom: 8px; flex-wrap: wrap; }
        .badge { padding: 3px 6px; border-radius: 4px; font-size: 0.75rem; font-weight: bold; text-transform: uppercase; }
        .badge.cat { background: var(--primary); color: #004455; }
        .badge.emo { background: #e0e0e0; color: #555; border: 1px solid #ccc; }

        .description-text {
            font-size: 0.95rem; color: #444; margin-bottom: 10px; line-height: 1.5;
            background: #f8f9fa; padding: 10px; border-radius: 6px; border: 1px solid #eee;
        }

        .question-area {
            background: #f0f7fa; border-left: 4px solid var(--primary);
            padding: 15px; border-radius: 0 8px 8px 0;
        }
        .q-type { color: #666; font-size: 0.75rem; text-transform: uppercase; font-weight: bold; margin-bottom: 5px; }
        .q-text { font-size: 1.05rem; font-weight: bold; margin-bottom: 10px; display: block; color: #222; }
        
        .choices-list { list-style: none; padding: 0; margin: 0; }
        .choices-list li {
            padding: 8px 8px; border-bottom: 1px solid #e0e0e0; font-size: 0.95rem; color: #333;
        }
        .choices-list li:last-child { border-bottom: none; }
        .choices-list li span.opt-letter { color: #0077aa; font-weight: bold; margin-right: 8px; }
        .correct-answer {
            font-weight: bold; color: #1e81b0;
            background-color: rgba(187, 225, 238, 0.3); border-radius: 4px;
        }

        /* --- STATS & PERF CONTAINER (SHARED) --- */
        .stats-container {
            width: 85%;
            max-width: 1600px;
            background: var(--card-bg);
            border-top: 5px solid var(--primary); 
            padding: 40px;
            padding-bottom: 80px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            box-sizing: border-box;
        }

        .stats-title {
            color: #666666;
            margin-bottom: 10px;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            line-height: 1.2;
        }

        .stats-subtitle {
            color: #666666;
            font-size: 1.1rem;
            text-align: center;
            margin-top: 0;
            margin-bottom: 40px;
            max-width: 800px;
            line-height: 1.5;
        }

        .stats-footer-heading {
            font-size: 1.2rem;
            font-weight: 300;
            font-style: italic;
            color: #666666;
            text-align: center;
            margin-top: 60px;
            margin-bottom: 10px;
            width: 100%;
            padding: 0 10px;
        }

        /* Chart Layouts */
        .charts-row {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            width: 100%;
            gap: 30px;
        }

        .chart-wrapper {
            flex: 1;
            min-width: 250px;
            max-width: 320px;
            height: 320px; 
            position: relative;
        }
        
        .charts-column {
            display: flex;
            flex-direction: column;
            width: 100%;
            gap: 50px;
        }

        .chart-wrapper.full-width {
            flex: none;
            width: 100%;
            max-width: 100%;
            height: 400px;
        }

        .chart-wrapper h3 {
            text-align: center; color: var(--secondary); margin-bottom: 10px;
        }

        /* --- FOOTER / SLIDE 4 STYLES --- */
        .paper-links-row {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 50px;
            flex-wrap: wrap;
        }

        .paper-btn {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 25px;
            background: #fff;
            border: 0px solid #ccc;
            border-radius: 8px;
            text-decoration: none;
            color: #333;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .paper-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        .paper-btn img {
            height: 35px;
            width: auto;
        }

        .author-section {
            width: 100%;
            text-align: center;
            margin-bottom: 50px;
        }

        .author-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px 20px;
            line-height: 1.6;
            max-width: 900px;
            margin: 0 auto;
        }

        .author-name {
            font-size: 1.1rem;
            color: #444;
            white-space: nowrap;
        }

        .school-banner-container {
            width: 100%;
            padding-top: 10px;
            text-align: center;
        }
        
        .school-banner {
            width: 100%;
            height: auto;
            max-width: 800px;
            display: block;
            margin: 0 auto;
        }

        .scroll-indicator {
            position: absolute; bottom: 20px; left: 50%;
            transform: translateX(-50%); opacity: 0.5;
            cursor: pointer; animation: bounce 2s infinite;
            font-size: 2rem; color: #aaa;
            z-index: 50;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateX(-50%) translateY(0);}
            40% {transform: translateX(-50%) translateY(-10px);}
            60% {transform: translateX(-50%) translateY(-5px);}
        }

        /* --- MODAL STYLES --- */
        .modal {
            position: fixed; 
            z-index: 2000;
            left: 0; 
            top: 0;
            width: 100%; 
            height: 100%; 
            overflow: auto; 
            background-color: rgba(0,0,0,0.6); 
            backdrop-filter: blur(3px);
            display: flex; 
            align-items: center; 
            justify-content: center;
            opacity: 0; 
            pointer-events: none; 
            transition: opacity 0.3s ease;
        }

        .modal.show { 
            opacity: 1; 
            pointer-events: auto; 
        }

        .modal-content {
            background-color: #fff;
            padding: 25px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border-left: 5px solid var(--primary);
            transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal.show .modal-content {
            transform: scale(1);
        }

        .close-modal {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
        }

        .close-modal:hover,
        .close-modal:focus {
            color: var(--accent);
            text-decoration: none;
        }

        /* --- AUTHOR STYLES --- */
        .author-link {
            font-size: 1.15rem;
            color: #333;
            text-decoration: none;
            white-space: nowrap;
            transition: color 0.2s;
            position: relative;
        }

        .author-link:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }

        .sup-icon {
            width: 22px;        
            height: auto;
            vertical-align: super;
            margin-left: 2px;
            opacity: 0.8;
            border: none;
        }


        #transExpandBtn:hover {
            fill: var(--accent) !important;
            transform: scale(1.1);
            transition: transform 0.2s;
        }

        /* --- MOBILE RESPONSIBILITY --- */
        @media (max-width: 768px) {
            .slide { 
                height: auto; 
                min-height: 100vh; 
                padding: 15px 10px 80px 10px; 
            }
            
            /* Logo & Text scaling */
            .logo { width: 95%; margin-bottom: 10px; }
            .main-description { font-size: 1rem; }

            /* Wheel adjustments */
            .scene { height: 120px; width: 100%; overflow: hidden; } 
            
            /* Card stacking */
            .meme-card-container { 
                flex-direction: column; 
                width: 95%; 
                padding: 15px;
                gap: 20px;
            }
            .video-column { max-width: 100%; }
            .info-panel { padding-left: 0; }
            .header-row { flex-direction: column; align-items: flex-start; gap: 5px; }

            /* Stats & Charts - Optimized for One Column per Row */
            .stats-container { width: 95%; padding: 25px 15px; }
            .stats-title { font-size: 1.5rem; }
            .stats-subtitle { font-size: 0.9rem; margin-bottom: 25px; }
            
            /* Slide 2 Specific: Stack charts vertically */
            .charts-row { 
                display: flex;
                flex-direction: column; 
                align-items: center; 
                gap: 50px; /* Space between the pie charts */
                width: 100%;
            }

            .chart-wrapper { 
                width: 100%; 
                max-width: 350px; /* Restrict max width so pies don't look stretched */
                height: 300px;    /* Height to fit the pie and legend */
                flex: none;       /* Disable flex resizing behavior */
                margin: 0 auto;   /* Center align */
            }

            /* Slide 3 Bar Charts */
            .chart-wrapper.full-width { height: 350px; }

            /* Footer buttons */
            .paper-links-row { flex-direction: column; gap: 15px; width: 100%; }
            .paper-btn { width: 100%; justify-content: center; box-sizing: border-box; }
            
            .author-grid { gap: 10px 15px; }
            .author-link { font-size: 1rem; }
        }
    </style>
</head>
<body>

    <section class="slide" id="slide1">
        <header>
            <img src="../image/logo.png" alt="AVMeme Exam Logo" class="logo">
            <p class="main-description">
                A Multimodal Multilingual Multicultural Benchmark for<br>
                LLMs' Contextual and Cultural Knowledge and Thinking
            </p>
            <p class="subtitle">Presented by AVMeme Team</p>
        </header>

        <div class="scene" id="scene">
            <div class="orbit" id="orbit"></div>
            <div class="nav-cue left">❮</div>
            <div class="nav-cue right">❯</div>
        </div>

        <div class="meme-card-container hidden" id="cardContainer">
            
            <div class="video-column">
                <div class="video-placeholder">
                    <video id="cardVideo" controls playsinline style="display:block;">
                        <img src="" alt="Video Placeholder">
                    </video>
                
                    <div id="cardAudioContainer" class="audio-mode-container" style="display:none;">
                        <img id="cardAudioPoster" class="audio-poster" src="" alt="Audio Preview">
                        <div class="speaker-overlay">
                            <svg viewBox="0 0 24 24">
                                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                            </svg>
                        </div>
                        <audio id="cardAudioPlayer" controls></audio>
                    </div>
                </div>
                
                <div class="metadata-grid">
                    <div class="meta-item"><strong>Language</strong><span id="metaLang">en</span></div>
                    <div class="meta-item"><strong>Sensitivity</strong><span id="metaSens">None</span></div>
                    <div class="meta-item meta-full">
                        <strong>Transcript</strong>
                        <div style="display: flex; align-items: center; gap: 5px;">
                            <span id="metaTrans" style="font-style: italic; color: #666;">N/A</span>
                            <svg id="transExpandBtn" style="display: none; width: 16px; height: 16px; cursor: pointer; fill: var(--primary-dark); flex-shrink: 0;" viewBox="0 0 24 24" title="View Full Transcript">
                                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <div class="info-panel">
                <div class="header-row">
                    <h2 id="cardTitle">Title</h2>
                    <span class="year-tag" id="cardYear">2020</span>
                </div>

                <div class="tags-row">
                    <span id="cardCategory" class="badge cat">Category</span>
                    <span id="cardEmotion" class="badge emo">Emotion</span>
                </div>

                <div class="description-text">
                    <strong>Summary:</strong> <span id="cardSummary">...</span><br>
                    <strong>Usage:</strong> <span id="cardUsage">...</span>
                </div>

                <div class="question-area">
                    <div class="q-type" id="cardQType">Question Type</div>
                    <span class="q-text" id="cardQuestion">Question goes here?</span>
                    <ul class="choices-list" id="cardOptions">
                    </ul>
                </div>
            </div>
        </div>

        <div class="scroll-indicator" onclick="document.getElementById('slide2').scrollIntoView()">
            ▼
        </div>
    </section>

    <section class="slide" id="slide2">
        <div class="stats-container">
            <h2 class="stats-title">Testing LLMs Content, Context & Cultural Understanding</h2>
            <p class="stats-subtitle">
                Covering well-known, multilingual Internet speeches, songs, music, and sound effects.
            </p>
            <div class="charts-row">
                <div class="chart-wrapper">
                    <h3>Question Types</h3>
                    <canvas id="chartQuestionTypes"></canvas>
                </div>

                <div class="chart-wrapper">
                    <h3>Sound Categories</h3>
                    <canvas id="chartSoundCategories"></canvas>
                </div>

                <div class="chart-wrapper">
                    <h3>Languages</h3>
                    <canvas id="chartLanguages"></canvas>
                </div>
            </div>
            <div class="stats-footer-heading">
                We are interested in whether multimodal LLMs can perceive beyond the media's content, including its<br> context, how people feel and use it, and where it situates in our shared cultural world.
            </div>
        </div>
        
        <div class="scroll-indicator" onclick="document.getElementById('slide3').scrollIntoView()">
            ▼
        </div>
    </section>

    <section class="slide" id="slide3">
        <div class="stats-container">
            <h2 class="stats-title">Excel at Language, but Struggle with Context, Humor, and Usage</h2>
            <p class="stats-subtitle">
                All models except Gemini 3 lack Multimedia World Knowledge.
            </p>
            
            <div class="charts-column">
                <div class="chart-wrapper full-width">
                    <h3>Performance by Question Type</h3>
                    <canvas id="chartModelQTypes"></canvas>
                </div>

                <div class="chart-wrapper full-width">
                    <h3>Performance by Sound Category</h3>
                    <canvas id="chartModelSoundCats"></canvas>
                </div>
            </div>
        </div>

        <div class="scroll-indicator" onclick="document.getElementById('slide4').scrollIntoView()">
            ▼
        </div>
    </section>

    <section class="slide" id="slide4">
        <div class="stats-container" style="justify-content: center; padding-top: 60px;">
            
            <div class="paper-links-row">
                <a href="https://arxiv.org/" class="paper-btn" target="_blank">
                    <img src="../image/arxiv_logo.png" alt="ArXiv Logo">
                    <span>Paper</span>
                </a>

                <a href="https://huggingface.co/" class="paper-btn" target="_blank">
                    <img src="../image/hf_logo.png" alt="Hugging Face Logo">
                    <span>Download</span>
                </a>
            </div>

            <div class="author-section">
                <h3 style="color: #666; margin-bottom: 25px; font-weight: 600;">Valhalla of AVMeme</h3>
                <div class="author-grid">
                    
                    <a href="https://xi-j.github.io" class="author-link" target="_blank">
                        Xilin Jiang<img src="../image/columbia.png" class="sup-icon" alt="Columbia">
                    </a>
                    <a href="https://qiaolinwang.github.io" class="author-link" target="_blank">
                        Qiaolin Wang<img src="../image/columbia.png" class="sup-icon" alt="Columbia">
                    </a>
                    <a href="https://wjk0925.github.io" class="author-link" target="_blank">
                        Junkai Wu<img src="../image/UW.png" class="sup-icon" alt="UW">
                    </a>
                    <a href="https://www.linkedin.com/in/xmhe" class="author-link" target="_blank">
                        Xiaomin He<img src="../image/columbia.png" class="sup-icon" alt="Columbia">
                    </a>
                    <a href="https://xzwy.github.io/alanweiyang.github.io" class="author-link" target="_blank">
                        Zhongweiyang Xu<img src="../image/UIUC.png" class="sup-icon" alt="UIUC">
                    </a>
                    <a href="https://nicolaus625.github.io" class="author-link" target="_blank">
                        Yinghao Ma<img src="../image/QMUL.png" class="sup-icon" alt="QMUL">
                    </a>
                    <a href="https://www.linkedin.com/in/minshuo-piao-08a5b2330" class="author-link" target="_blank">
                        Minshuo Piao<img src="../image/columbia.png" class="sup-icon" alt="Columbia">
                    </a>
                    <a href="https://www.linkedin.com/in/kaiyi-yang-16041a165" class="author-link" target="_blank">
                        Kaiyi Yang<img src="../image/UIUC.png" class="sup-icon" alt="UIUC">
                    </a>
                    <a href="https://www.linkedin.com/in/xiuwen-zheng-02439822b" class="author-link" target="_blank">
                        Xiuwen Zheng<img src="../image/UIUC.png" class="sup-icon" alt="UIUC">
                    </a>
                    <a href="https://www.linkedin.com/in/riki-shimizu-85ba1019b" class="author-link" target="_blank">
                        Riki Shimizu<img src="../image/columbia.png" class="sup-icon" alt="Columbia">
                    </a>
                    <a href="https://bryce-chen.github.io" class="author-link" target="_blank">
                        Yicong Chen<img src="../image/UW.png" class="sup-icon" alt="UW">
                    </a>
                    <a href="https://www.linkedin.com/in/arsalan-firoozi-6474927b" class="author-link" target="_blank">
                        Arsalan Firoozi<img src="../image/columbia.png" class="sup-icon" alt="Columbia">
                    </a>
                    <a href="https://gavinmischler.github.io" class="author-link" target="_blank">
                        Gavin Mischler<img src="../image/columbia.png" class="sup-icon" alt="Columbia">
                    </a>
                    <a href="https://www.linkedin.com/in/sukru-samet-dindar" class="author-link" target="_blank">
                        Sukru Samet Dindar<img src="../image/columbia.png" class="sup-icon" alt="Columbia">
                    </a>
                    <a href="https://scholar.google.com/citations?user=EtEVFLoAAAAJ" class="author-link" target="_blank">
                        Richard Antonello<img src="../image/columbia.png" class="sup-icon" alt="Columbia">
                    </a>
                    <a href="https://linyanghe.github.io" class="author-link" target="_blank">
                        Linyang He<img src="../image/columbia.png" class="sup-icon" alt="Columbia">
                    </a>
                    <a href="https://alexiehta.github.io" class="author-link" target="_blank">
                        Tsun-An Hsieh<img src="../image/UIUC.png" class="sup-icon" alt="UIUC">
                    </a>
                    <a href="https://www.linkedin.com/in/xulin-fan-4a4524332" class="author-link" target="_blank">
                        Xulin Fan<img src="../image/UIUC.png" class="sup-icon" alt="UIUC">
                    </a>
                    <a href="https://yulunwu1102.github.io" class="author-link" target="_blank">
                        Yulun Wu<img src="../image/UIUC.png" class="sup-icon" alt="UIUC">
                    </a>
                    <a href="https://www.linkedin.com/in/yuesheng-ma-3321b036a" class="author-link" target="_blank">
                        Yuesheng Ma<img src="../image/columbia.png" class="sup-icon" alt="Columbia">
                    </a>
                    <a href="https://achaitanya.web.illinois.edu" class="author-link" target="_blank">
                        Chaitanya Amballa<img src="../image/UIUC.png" class="sup-icon" alt="UIUC">
                    </a>
                    <a href="https://linkedin.com/in/leonchenmusic" class="author-link" target="_blank">
                        Weixiong Chen<img src="../image/QMUL.png" class="sup-icon" alt="QMUL">
                    </a>
                    <a href="https://haidog-yaqub.github.io" class="author-link" target="_blank">
                        Jiarui Hai<img src="../image/JHU.png" class="sup-icon" alt="JHU">
                    </a>
                    <a href="https://www.linkedin.com/in/ruisi-li-52b30b330" class="author-link" target="_blank">
                        Ruisi Li<img src="../image/NYU.png" class="sup-icon" alt="NYU">
                    </a>
                    <a href="https://www.vishalchoudhari.com" class="author-link" target="_blank">
                        Vishal Choudhari<img src="../image/columbia.png" class="sup-icon" alt="Columbia">
                    </a>
                    <a href="https://www.linkedin.com/in/cong-han" class="author-link" target="_blank">
                        Cong Han<img src="../image/google.png" class="sup-icon" alt="Google">
                    </a>
                    <a href="https://www.linkedin.com/in/yinghao-li-08930a183" class="author-link" target="_blank">
                        Yinghao Aaron Li<img src="../image/meta.png" class="sup-icon" alt="Meta">
                    </a>
                    <a href="https://med.nyu.edu/faculty/adeen-flinker" class="author-link" target="_blank">
                        Adeen Flinker<img src="../image/NYU.png" class="sup-icon" alt="NYU">
                    </a>
                    <a href="https://engineering.jhu.edu/faculty/mounya-elhilali" class="author-link" target="_blank">
                        Mounya Elhilali<img src="../image/JHU.png" class="sup-icon" alt="JHU">
                    </a>
                    <a href="https://webspace.eecs.qmul.ac.uk/emmanouil.benetos" class="author-link" target="_blank">
                        Emmanouil Benetos<img src="../image/QMUL.png" class="sup-icon" alt="QMUL">
                    </a>
                    <a href="https://speechtechnology.web.illinois.edu/mark-a-hasegawa-johnson" class="author-link" target="_blank">
                        Mark Hasegawa-Johnson<img src="../image/UIUC.png" class="sup-icon" alt="UIUC">
                    </a>
                    <a href="https://croy.web.engr.illinois.edu" class="author-link" target="_blank">
                        Romit Roy Choudhury<img src="../image/UIUC.png" class="sup-icon" alt="UIUC">
                    </a>
                    <a href="https://nima.ee.columbia.edu" class="author-link" target="_blank">
                        Nima Mesgarani<img src="../image/columbia.png" class="sup-icon" alt="Columbia">
                    </a>

                </div>
            </div>

            <div class="school-banner-container">
                <img src="../image/schools.png" alt="Participating Institutions" class="school-banner">
            </div>

        </div>
    </section>

    <div id="transcriptionModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 style="margin-top: 0; color: var(--secondary);">Full Transcription</h3>
            <p id="fullTranscriptionText" style="line-height: 1.6; color: #333; white-space: pre-wrap;"></p>
        </div>
    </div>

    <script>
        // --- 1. MEME DATA ---
        const memes = [
        { 
                id: 1, 
                title: "Never Gonna Give You Up", 
                year: "1987", 
                category: "Song", 
                emotion: "surprised/shocked, nostalgic", 
                lang: "English",
                sensitivity: "None",
                transcription: "We're no strangers to love. You know the rules and...",
                summary: "The start of music video 'Never Gonna Give You Up'.",
                usage: "A bait and switch is usually done using a disguised hyperlink leading to this music video.", 
                qType: "Humor & Popularity", 
                question: "What is the top reason this song became so popular as a meme?", 
                options: [
                    "A. Unexpected appearance on the Internet.", 
                    "B. Often got edited and remixed for parody.",
                    "C. A lot of references from other songs and movies.",
                    "D. The singer has sung it a lot.",
                    "E. It became a sports anthem.",
                    "F. It is popularized from forums such as 4chan and reddit."
                ], 
                correct: "A",
                src: "https://placehold.co/400x300/1a1a1a/FFF?text=Rick+Roll",
                video: "../videos/dQw4w9WgXcQ_0.0_25.0.mp4"
            },
            { 
                id: 2, 
                title: "You Shall Not Pass", 
                year: "2001", 
                category: "Noisy Speech", 
                emotion: "fearful/anxious", 
                lang: "English",
                sensitivity: "violence/gore",
                transcription: "You shall not pass.",
                summary: "A powerful wizard confronts a fiery monster on a narrow bridge, striking his staff and shouting defiantly.",
                usage: "Used to jokingly or seriously deny someone access or prevent them from proceeding.", 
                qType: "Usage & Application", 
                question: "Which of the following is a humorous way a college student might use this meme?", 
                options: [
                    "A. When talking about the spread of the flu among students.",
                    "B. When discussing how difficult the final exam was in a class.",
                    "C. When presenting a final project in an art class.",
                    "D. When asking the professor a question during a lecture."
                ], 
                correct: "B",
                src: "https://placehold.co/400x300/331111/FFF?text=Gandalf",
                video: "../videos/3xYXUeSmb-Y_0.0_6.0.mp4"
            },
            { 
                id: 3, 
                title: "GTA Wasted", 
                year: "2013", 
                category: "Sound Effect", 
                emotion: "neutral", 
                lang: "N/A",
                sensitivity: "None",
                transcription: "N/A",
                summary: "The game over sound effect in Grand Theft Auto.",
                usage: "Used when someone fails something.", 
                qType: "World Knowledge", 
                question: "Where will you likely be after you hear this sound?", 
                options: [
                    "A. Home.",
                    "B. Hospital.",
                    "C. Police office.",
                    "D. Jail.",
                    "E. Another world.",
                    "F. Flight landing."
                ], 
                correct: "B",
                src: "https://placehold.co/400x300/444444/FF0000?text=WASTED",
                video: "../videos/K3kFQHKE0LA_0.0_7.0.wav"
            },
            { 
                id: 4, 
                title: "霸王洗发水", 
                year: "2004", 
                category: "Noisy Speech", 
                emotion: "neutral", 
                lang: "Chinese",
                sensitivity: "None",
                transcription: "当我第一次知道要拍那个洗发水广告的时候,其实我是拒绝的。因为我觉得,你不能叫我拍我就马上去拍,第一我要试一下,不然我又不想说,一个广告拍完后加上好多特技,那个头发,Duang,很黑,很亮,很柔,结果观众出来一定会骂我,根本没有这种头发,证明上面这个是假的。我说先给我试一下。后来我经过也知道它们是中药的,而且没有那种化学成分的。",
                summary: "An actor says he first refused to shoot the shampoo ad because he was worried that special effects would make the hair look unreal, and only agreed after testing it.",
                usage: "'Duang' is often used for a flashy, sudden, over-the-top sound or visual effect.", 
                qType: "Usage & Application", 
                question: "Which one of the following is the least suitable to be described by the onomatopoeic word in this clip?", 
                options: [
                    "A. Luxury race car.",
                    "B. Silky-shiny hair.",
                    "C. Dramatic sea view.",
                    "D. New game with good visuals."
                ], 
                correct: "C",
                src: "https://placehold.co/400x300/113311/FFF?text=Duang",
                video: "../videos/DzCinbvtXaE_62.0_92.0.mp4"
            },
            { 
                id: 5, 
                title: "I Don't Like Sand", 
                year: "2002", 
                category: "Noisy Speech", 
                emotion: "cringe/embarrassed", 
                lang: "English",
                sensitivity: "None",
                transcription: "I don't like sand.",
                summary: "Anakin Skywalker, in an awkward attempt at flirting, complains about sand.",
                usage: "Used to mock awkward dialogue or complain about minor inconveniences.", 
                qType: "Contextual Inference", 
                question: "What is the speaker's primary motivation for making this comment about sand?", 
                options: [
                    "A. To provide a detailed geological analysis.",
                    "B. To share a fond childhood memory.",
                    "C. As an awkward attempt to compliment his companion.",
                    "D. To change the subject to his favorite topic, desert planets."
                ], 
                correct: "C",
                src: "https://placehold.co/400x300/887755/FFF?text=Sand",
                video: "../videos/2tLf1JO5bvE_1.0_5.0.mp4"
            },
            { 
                id: 6, 
                title: "Windows Error", 
                year: "2001", 
                category: "Sound Effect", 
                emotion: "angry/annoyed", 
                lang: "N/A",
                sensitivity: "None",
                transcription: "N/A",
                summary: "Infinite pop-up errors in Windows.",
                usage: "The sound effect of the error is widely recognized and used for comic 'fail' beats.", 
                qType: "World Knowledge", 
                question: "Which operating system makes this sound?", 
                options: [
                    "A. Windows",
                    "B. macOS",
                    "C. Linux",
                    "D. Android",
                    "E. iOS"
                ], 
                correct: "A",
                src: "https://placehold.co/400x300/0000AA/FFF?text=XP+Error",
                video: "../videos/YnP94m5pwls_0.0_5.0.wav"
            },
            { 
                id: 7, 
                title: "Look at all those chickens", 
                year: "2013", 
                category: "Noisy Speech", 
                emotion: "happy, surprised", 
                lang: "English",
                sensitivity: "None",
                transcription: "Look at all those chickens",
                summary: "A young girl, awestruck, looking at a flock of what are actually geese or ducks.",
                usage: "Used to express excitement or amazement at a large number of things, often misidentifying them.", 
                qType: "Contextual Inference", 
                question: "What is the most likely reason for the person's exclamation?", 
                options: [
                    "A. She is scared of the animals.",
                    "B. She is excited and misidentifying the animals.",
                    "C. She is angry at the animals for making a mess.",
                    "D. She is trying to sell the animals."
                ], 
                correct: "B",
                src: "https://placehold.co/400x300/443311/FFF?text=Chickens",
                video: "../videos/F-X4SLhorvw_26.0_30.0.mp4"
            },
            { 
                id: 8, 
                title: "Liszt's Hungarian Rhapsody No.2", 
                year: "1851", 
                category: "Music", 
                emotion: "happy", 
                lang: "N/A",
                sensitivity: "None",
                transcription: "N/A",
                summary: "A fast, playful, dance-like solo piano music.",
                usage: "Used as the background music, often in cartoons for chase and slapstick scenes.", 
                qType: "Usage & Application", 
                question: "On which of the following occasions will you most likely hear this music?", 
                options: [
                    "A. TV ads.", 
                    "B. Cartoon.",
                    "C. Daily news.",
                    "D. Talk show."
                ], 
                correct: "B",
                src: "https://placehold.co/400x300/222222/FFF?text=Liszt",
                video: "../videos/LdH1hSWGFGU_445.0_475.0.wav"
            },
            { 
                id: 9, 
                title: "アムロ", 
                year: "1979", 
                category: "Clean Speech", 
                emotion: "angry", 
                lang: "Japanese",
                sensitivity: "violence/gore",
                transcription: "二度もぶった。親父にもぶたれたことないのに!",
                summary: "A boy is complaining because someone slapped his cheeks.",
                usage: "Used to dramatize trivial grievances by replacing ぶたれた with other words.", 
                qType: "World Knowledge", 
                question: "Why was the boy hit?", 
                options: [
                    "A. Because he cheated on his girlfriend.", 
                    "B. Because he hit other people.",
                    "C. Because he disobeyed military orders.",
                    "D. Because he stole money from other people."
                ], 
                correct: "C",
                src: "https://placehold.co/400x300/333333/FFF?text=Gundam",
                video: "../videos/TvjkAtmcpv8_0.0_6.0.mp4"
            },
            { 
                id: 10, 
                title: "Goat Talking to Clueless Huh Cat", 
                year: "2024", 
                category: "Sound Effect", 
                emotion: "surprised/shocked", 
                lang: "N/A",
                sensitivity: "None",
                transcription: "N/A",
                summary: "A goat talking to a cat.",
                usage: "Used to depict a situation where one person passionately and intensely explains a complex or niche topic to another person who is utterly confused, overwhelmed, or uncomprehending.", 
                qType: "Contextual Inference", 
                question: "What kind of conversational dynamic are they used to represent?", 
                options: [
                    "A. One person chaotically spouting nonsense to a listener who responds with confusion.", 
                    "B. A deep, meaningful conversation where both parties are fully engaged.",
                    "C. An angry argument between two equally aggressive individuals.",
                    "D. A calm and patient mentor teaching a highly attentive student."
                ], 
                correct: "A",
                src: "https://placehold.co/400x300/554444/FFF?text=Goat+and+Cat",
                video: "../videos/B7aSDu6Qh6U_0.0_9.0.mp4"
            },
            { 
                id: 11, 
                title: "괜찮아 딩딩딩", 
                year: "2024", 
                category: "Song", 
                emotion: "happy", 
                lang: "Korean",
                sensitivity: "None",
                transcription: "괜찮아 딩딩딩딩딩",
                summary: "A cartoon character is performing the signature choreography along with the music.",
                usage: "It's soramimi. The pronunciation is very close to \"No worries, ding ding ding ding ding\" in Korean. People use it when they want to say \"It's okay\", \"No worries.\"", 
                qType: "Usage & Application", 
                question: "When do we use this meme?", 
                options: [
                    "A. When we say \"That's awesome!\"", 
                    "B. When we say \"It's okay.\"",
                    "C. When we say \"What happened?\"",
                    "D. When we say \"Never mind.\""
                ], 
                correct: "B",
                src: "https://placehold.co/400x300/445566/FFF?text=DingDingDing",
                video: "../videos/czL1D-bTXYM_0.0_10.0.mp4"
            },
            { 
                id: 12, 
                title: "Saul Goodman 3D", 
                year: "2022", 
                category: "Sound Effect", 
                emotion: "cringe/embarrassed", 
                lang: "N/A",
                sensitivity: "None",
                transcription: "N/A",
                summary: "A 3D model of Saul Goodman staring intensely at the viewer while a dramatic, guitar-driven theme song plays.",
                usage: "Used to represent a silent, deadpan, and judgmental reaction to an absurd, disastrous, or foolish situation unfolding.", 
                qType: "Usage & Application", 
                question: "Which of the following comments is the least appropriate comment for this video?", 
                options: [
                    "A. Every failure is not the end, nuclear technician.", 
                    "B. The cast of Oppenheimer when Nolan says he won't use any CGI.",
                    "C. Mr. Krabs when he walks anywhere.",
                    "D. NFT owners staring at the monkey pixel art they spent their family inheritance on."
                ], 
                correct: "C",
                src: "https://placehold.co/400x300/665544/FFF?text=Saul+Goodman",
                video: "../videos/gDjMZvYWUdo_0.0_15.0.mp4"
            },
            { 
                id: 13, 
                title: "阿诺: 头顶尖尖的", 
                year: "2022", 
                category: "Noisy Speech", 
                emotion: "happy, angry/annoyed, cringe/embarrassed", 
                lang: "Chinese",
                sensitivity: "None",
                transcription: "头顶怎么尖尖的?那我问你,你是男的女的,如果你是女的你说这样的话啊,啊那我问你,你你你是女孩子,那我问你,那那你那你头顶是不是是不是尖的,那我问你,那我问你,你头顶是尖的呢,还是秃顶的啊,还是染黄色染红色的,那我问你,啊,还是戴假发的,如果是,如果你是男的,那我问你。",
                summary: "When asked why his head is pointy, a man gets offended and then rambles, making a case analysis about whether men or women can have pointy heads.",
                usage: "Used as an example of funny gibberish.", 
                qType: "Contextual Inference", 
                question: "Why is the man talking about head shape and hairstyles?", 
                options: [
                    "A. He is a live streamer and he wants to use this to hype himself.", 
                    "B. He got genuinely mad at being teased and started rambling nonsense.",
                    "C. He wants to share his findings on hairstyles.",
                    "D. He believes everyone has pointy heads."
                ], 
                correct: "B",
                src: "https://placehold.co/400x300/553333/FFF?text=Pointy+Head",
                video: "../videos/yMhMtTo8zGc_0.0_29.0.mp4"
            },
            { 
                id: 14, 
                title: "Konishi: Good job", 
                year: "2025", 
                category: "Noisy Speech", 
                emotion: "happy", 
                lang: "English",
                sensitivity: "None",
                transcription: "Officer: Stop crying. Okay, so what's your job? \nKonishi: Job? Good job!",
                summary: "A funny conversation between a customs officer and a girl who knows little English.",
                usage: "Used as a cute and hilarious conversation example of people unfamiliar with English.", 
                qType: "Contextual Inference", 
                question: "What can we best infer from the clip?", 
                options: [
                    "A. The girl feels very confident about the work she does.", 
                    "B. The girl isn't quite sure what the officer is trying to ask.",
                    "C. The girl is complimenting how quickly the officer handles things.",
                    "D. The officer is likely to get angry with the girl.",
                    "E. The officer is starting to suspect what the girl does for work."
                ], 
                correct: "B",
                src: "https://placehold.co/400x300/443355/FFF?text=Good+Job",
                video: "../videos/1ooMfriJyuU_46.0_51.0.mp4"
            },
            { 
                id: 15, 
                title: "葛平超威蓝猫", 
                year: "2009", 
                category: "Clean Speech", 
                emotion: "happy, surprised/shocked", 
                lang: "Chinese",
                sensitivity: "None",
                transcription: "我说小朋友们谁愿意跟我蓝猫学一句配音呐?只听见下面有一个:我来!这时候我一看!小朋友们,人群之中钻出来一个光头!哇!他全身穿的都是我们蓝猫品牌的衣服,特别显眼。我一把就把他抱了起来。",
                summary: "The voice actor calls for a voice-dubbing volunteer, and a bald kid in full Blue Cat clothes eagerly shouts out.",
                usage: "Used as a prosody when someone with a bald head suddenly appears.", 
                qType: "Humor & Popularity", 
                question: "What is the funniest thing here?", 
                options: [
                    "A. Bare hair.", 
                    "B. Cartoon suit.",
                    "C. Shouting out.",
                    "D. The voice acting."
                ], 
                correct: "A",
                src: "https://placehold.co/400x300/334455/FFF?text=Blue+Cat",
                video: "../videos/fAwDO4uP7zw_39.0_60.0.mp4"
            },
            { 
                id: 16, 
                title: "Nyan Cat", 
                year: "2011", 
                category: "Song", 
                emotion: "happy", 
                lang: "Japanese",
                sensitivity: "None",
                transcription: "N/A",
                summary: "A cat keeps meowing over a bouncy, earworm of a beat.",
                usage: "As a catchy melody to get stuck in someone's head.", 
                qType: "World Knowledge", 
                question: "What is the original purpose of this song?", 
                options: [
                    "A. Call for animal protection.", 
                    "B. Charity art for a disaster.",
                    "C. As a soundtrack from a famous game.",
                    "D. A cat lover edits his own cat's voice for fun."
                ], 
                correct: "B",
                src: "https://placehold.co/400x300/222233/FFF?text=Nyan+Cat",
                video: "../videos/2yJgwwDcgV8_0.0_16.0.mp4"
            },
            { 
                id: 17, 
                title: "2000 years later", 
                year: "1999", 
                category: "Clean Speech", 
                emotion: "neutral", 
                lang: "English",
                sensitivity: "None",
                transcription: "2000 years later",
                summary: "A voiceover making a transition, indicating that it requires a long wait until the upcoming event.",
                usage: "To work as a transition between two scenes that are separated for a long time period.", 
                qType: "Language Analysis", 
                question: "What kind of event is this audio trying to describe?", 
                options: [
                    "A. Time flies fast.", 
                    "B. Full of love.",
                    "C. Tedious and lengthy."
                ], 
                correct: "C",
                src: "https://placehold.co/400x300/444444/FFF?text=2000+Years+Later",
                video: "../videos/7o_fRK-66bY_2.0_5.0.mp4"
            },
            { 
                id: 18, 
                title: "愛♡スクリ～ム", 
                year: "2025", 
                category: "Song", 
                emotion: "happy", 
                lang: "Japanese", 
                sensitivity: "None", 
                transcription: "みんな:ルビィちゃん!何が好き? A:チョコミントよりも、あ・な・た。みんな:歩夢ちゃん!何が好き? B:ストロベリーフレイバーよりも、あ・な・た。 みんな:四季ちゃん!何が好き? C:クッキー＆クリームよりも、あ・な・た。 みんな:何が好き? みんな:モチロン大好き、AiScReam!", 
                summary: "The video shows three AiScReam members appearing one by one, each responding the fans when called by name, and ending together in AiScReam.",
                usage: "Users primarily deploy memes to create a playful environment—for example, to act cute, tease, or clown around.", 
                qType: "Language Analysis", 
                question: "Which ice-cream flavor wasn't mentioned in this performance?", 
                options: [
                    "A. Chocolate Mint.", 
                    "B. Coffee.", 
                    "C. Strawberry.", 
                    "D. Cookies & Cream."
                ], 
                correct: "B", 
                src: "https://placehold.co/400x300/FF6699/FFF?text=AiScReam", 
                video: "../videos/Dc7gc7BECk0_0.0_31.0.mp4" 
            }
        ];

        // --- 2. 3D WHEEL & CARD LOGIC ---
        // DYNAMIC RADIUS CALCULATION
        const isMobile = window.innerWidth < 768;
        const radiusX = isMobile ? 140 : 450;
        const radiusZ = isMobile ? 90 : 200;
        
        const itemAngleStep = 360 / memes.length;
        
        let currentAngle = 90; 
        let isDragging = false;
        let isSpinning = true; 
        let startX = 0;
        let lastX = 0;
        let velocity = 0;
    
        const orbit = document.getElementById('orbit');
        const scene = document.getElementById('scene');
        const cardContainer = document.getElementById('cardContainer');
    
        function initWheel() {
            memes.forEach((meme, index) => {
                const el = document.createElement('div');
                el.className = 'item';
                el.style.backgroundImage = `url('${meme.src}')`;
                el.innerHTML = `<div class="item-label">${meme.title}</div>`;
                el.dataset.index = index;
                const initialTheta = index * itemAngleStep;
                el.dataset.baseTheta = initialTheta; 
                orbit.appendChild(el);
            });
    
            orbit.style.transform = "rotateX(-10deg)";
            
            setupEvents();
    
            // Spin Logic
            const randomIndex = Math.floor(Math.random() * memes.length);
            const stopAngle = 90 - (randomIndex * itemAngleStep) - (360 * 3);
            animateSpin(currentAngle, stopAngle, 2500); 
        }
    
        function setupEvents() {
            scene.addEventListener('mousedown', (e) => {
                isDragging = true; isSpinning = false;
                startX = e.clientX; lastX = e.clientX;
                cardContainer.classList.add('hidden');
            });
            window.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                const delta = e.clientX - lastX;
                lastX = e.clientX;
                velocity = delta * 0.3;
                currentAngle += velocity;
                updateRender();
            });
            window.addEventListener('mouseup', () => { isDragging = false; });
    
            scene.addEventListener('touchstart', (e) => {
                isDragging = true; isSpinning = false;
                startX = e.touches[0].clientX; lastX = e.touches[0].clientX;
                cardContainer.classList.add('hidden');
            }, {passive: false});
            window.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                const clientX = e.touches[0].clientX;
                const delta = clientX - lastX;
                lastX = clientX;
                velocity = delta * 0.3;
                currentAngle += velocity;
                updateRender();
            }, {passive: false});
            window.addEventListener('touchend', () => { isDragging = false; });
        }
    
        function animateSpin(start, end, duration) {
            let startTime = null;
            function step(timestamp) {
                if (!startTime) startTime = timestamp;
                const elapsed = timestamp - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const ease = 1 - Math.pow(1 - progress, 3);
                currentAngle = start + (end - start) * ease;
                updateRender(); 
                if (progress < 1) requestAnimationFrame(step);
                else {
                    isSpinning = false; currentAngle = end; 
                    loop();
                    cardContainer.classList.remove('hidden');
                }
            }
            requestAnimationFrame(step);
        }
    
        function loop() {
            if (!isSpinning && !isDragging) {
                velocity *= 0.95; 
                currentAngle += velocity;
                if (Math.abs(velocity) > 0.1) cardContainer.classList.add('hidden');
                else {
                    const relativeAngle = currentAngle - 90;
                    const snapTarget = Math.round(relativeAngle / itemAngleStep) * itemAngleStep + 90;
                    currentAngle += (snapTarget - currentAngle) * 0.1;
                    if(Math.abs(snapTarget - currentAngle) < 0.05) {
                        currentAngle = snapTarget;
                        cardContainer.classList.remove('hidden');
                    }
                }
            }
            updateRender();
            requestAnimationFrame(loop);
        }
    
        function updateRender() {
            const items = document.querySelectorAll('.item');
            items.forEach((item, index) => {
                const baseTheta = parseFloat(item.dataset.baseTheta);
                const theta = baseTheta + currentAngle;
                const rad = theta * (Math.PI / 180);
                const x = radiusX * Math.cos(rad);
                const z = radiusZ * Math.sin(rad);
                const scale = 0.6 + (0.4 * (z + radiusZ) / (2 * radiusZ));
                const opacity = 0.4 + (0.6 * (z + radiusZ) / (2 * radiusZ));
                item.style.transform = `translate3d(${x}px, 0, ${z}px) scale(${scale})`;
                item.style.zIndex = Math.floor(z + radiusZ);
                item.style.opacity = opacity;
    
                let normTheta = theta % 360;
                if(normTheta < 0) normTheta += 360;
                if (normTheta > 80 && normTheta < 100) {
                    if (!item.classList.contains('active')) {
                        items.forEach(i => i.classList.remove('active')); 
                        item.classList.add('active');
                        updateCard(index);
                    }
                } else {
                    item.classList.remove('active');
                }
            });
        }
        
        function updateCard(index) {
            const data = memes[index];
            if (!data) return;
            document.getElementById('cardTitle').innerText = data.title;
            document.getElementById('cardYear').innerText = data.year;
            document.getElementById('cardCategory').innerText = data.category;
            document.getElementById('cardEmotion').innerText = data.emotion;
            document.getElementById('cardSummary').innerText = data.summary;
            document.getElementById('cardUsage').innerText = data.usage;
            document.getElementById('cardQType').innerText = data.qType;
            document.getElementById('cardQuestion').innerText = data.question;

            const videoEl = document.getElementById('cardVideo');
            const audioContainer = document.getElementById('cardAudioContainer');
            const audioPlayer = document.getElementById('cardAudioPlayer');
            const audioPoster = document.getElementById('cardAudioPoster');

            videoEl.pause(); audioPlayer.pause();
            videoEl.currentTime = 0; audioPlayer.currentTime = 0;

            const mediaPath = data.video || "";
            const isAudio = mediaPath.toLowerCase().endsWith('.wav');

            if (isAudio) {
                videoEl.style.display = 'none';
                audioContainer.style.display = 'flex';
                audioPlayer.src = mediaPath;
                let posterSrc = data.src;
                if (posterSrc.includes('placehold.co')) posterSrc += '%0A(audio-only)';
                audioPoster.src = posterSrc;
            } else {
                audioContainer.style.display = 'none';
                videoEl.style.display = 'block';
                videoEl.poster = data.src;
                videoEl.src = mediaPath;
            }

            document.getElementById('metaLang').innerText = ": " + data.lang;
            document.getElementById('metaSens').innerText = ": " + data.sensitivity;
            
            // --- UPDATED TRANSCRIPTION LOGIC ---
            const transEl = document.getElementById('metaTrans');
            const expandBtn = document.getElementById('transExpandBtn');
            const fullText = data.transcription || "N/A";
            const truncateLimit = 50;

            if (fullText.length > truncateLimit) {
                transEl.innerText = ": " + fullText.substring(0, truncateLimit) + "...";
                expandBtn.style.display = 'block';
                
                expandBtn.onclick = function() {
                    openModal(fullText);
                };
            } else {
                transEl.innerText = ": " + fullText;
                expandBtn.style.display = 'none';
            }
            
            const ul = document.getElementById('cardOptions');
            ul.innerHTML = '';
            data.options.forEach(opt => {
                const li = document.createElement('li');
                const letter = opt.split('.')[0].trim(); 
                const text = opt.substring(letter.length + 1);
                if (data.correct && letter === data.correct) li.classList.add('correct-answer');
                li.innerHTML = `<span class="opt-letter">${letter}.</span>${text}`;
                ul.appendChild(li);
            });
        }

        // --- 3. CHART LOGIC ---
        function initCharts() {
            // -- Common Palette --
            const veryLightBluePalette7 = [
                '#A6E1FA', '#BAEAFB', '#CEF0FD', '#DFF6FE', '#EDFBFF', '#F4FDFF', '#FAFEFF'
            ];
            const veryLightBluePalette5 = [
                '#A6E1FA', '#BAEAFB', '#CEF0FD', '#DFF6FE', '#EDFBFF'
            ];
            const totalClips = 1032;

            const commonOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        enabled: true,
                        callbacks: {
                            label: function(context) {
                                // Force the raw number to be a float with 1 decimal place
                                const value = Number(context.raw).toFixed(1); 
                                
                                if(context.chart.config.type === 'pie') {
                                    const count = Math.round(totalClips * (context.raw / 100));
                                    return ` ${value}% (${count} clips)`;
                                }
                                
                                // This ensures "46" becomes "46.0%"
                                return ` ${value}%`; 
                            }
                        }
                    }
                }
            };

            // Existing Pie Charts
            new Chart(document.getElementById('chartQuestionTypes'), {
                type: 'pie',
                data: {
                    labels: ['World Knowledge', 'Contextual Inference', 'Usage & Application', 'Humor & Popularity', 'Language Analysis', 'Emotion Analysis', 'Audio Analysis'],
                    datasets: [{ data: [22.1, 21.7, 18.8, 12.9, 12.0, 7.1, 5.4], backgroundColor: veryLightBluePalette7, borderWidth: 1, borderColor: '#fff' }]
                },
                options: commonOptions
            });

            new Chart(document.getElementById('chartSoundCategories'), {
                type: 'pie',
                data: {
                    labels: ['Noisy Speech', 'Clean Speech', 'Song', 'Music', 'Sound Effect'],
                    datasets: [{ data: [34.6, 27.2, 16.6, 11.4, 10.2], backgroundColor: veryLightBluePalette5, borderWidth: 1, borderColor: '#fff' }]
                },
                options: commonOptions
            });

            new Chart(document.getElementById('chartLanguages'), {
                type: 'pie',
                data: {
                    labels: ['English', 'Chinese', 'Non-Language', 'Others', 'Japanese', 'Korean', 'Persian'],
                    datasets: [{ data: [29.0, 24.7, 21.2, 7.7, 7.4, 5.4, 4.7], backgroundColor: veryLightBluePalette7, borderWidth: 1, borderColor: '#fff' }]
                },
                options: commonOptions
            });
            
            // --- NEW: BAR CHARTS (Pivot: X-Axis = Models) ---
            const modelPerfData = {
                "Qwen2-Audio": { "Language Analysis": 52.0, "Contextual Inference": 41.7, "Humor & Popularity": 46.6, "Usage & Application": 41.8, "World Knowledge": 25.1, "AVG": 41.0, "Speech": 43.5, "Song": 40.8, "Music": 37.3, "Sound Effect": 30.5 },
                "Audio Flamingo 3": { "Language Analysis": 62.9, "Contextual Inference": 47.8, "Humor & Popularity": 65.8, "Usage & Application": 53.8, "World Knowledge": 28.6, "AVG": 48.7, "Speech": 53.1, "Song": 45.6, "Music": 43.2, "Sound Effect": 33.3 },
                "GPT-4o Audio": { "Language Analysis": 77.4, "Contextual Inference": 54.9, "Humor & Popularity": 57.1, "Usage & Application": 52.3, "World Knowledge": 48.9, "AVG": 57.1, "Speech": 62.5, "Song": 59.4, "Music": 42.4, "Sound Effect": 37.1 },
                "Phi-4-Multimodal": { "Language Analysis": 62.1, "Contextual Inference": 48.4, "Humor & Popularity": 48.5, "Usage & Application": 31.4, "World Knowledge": 41.8, "AVG": 45.8, "Speech": 51.0, "Song": 40.4, "Music": 35.0, "Sound Effect": 34.3 },
                "Qwen3-Omni": { "Language Analysis": 84.6, "Contextual Inference": 61.9, "Humor & Popularity": 64.7, "Usage & Application": 60.3, "World Knowledge": 48.0, "AVG": 62.7, "Speech": 67.4, "Song": 59.1, "Music": 54.7, "Sound Effect": 49.0 },
                "Gemini 2.5 Flash": { "Language Analysis": 82.3, "Contextual Inference": 69.2, "Humor & Popularity": 78.1, "Usage & Application": 60.6, "World Knowledge": 56.4, "AVG": 66.1, "Speech": 72.4, "Song": 67.8, "Music": 55.7, "Sound Effect": 58.1 },
                "Gemini 3 Pro": { "Language Analysis": 91.1, "Contextual Inference": 81.1, "Humor & Popularity": 83.5, "Usage & Application": 72.8, "World Knowledge": 83.6, "AVG": 81.9, "Speech": 84.7, "Song": 81.3, "Music": 76.1, "Sound Effect": 72.4 }
            };

            // Models (X-Axis)
            const modelNames = Object.keys(modelPerfData);
            
            // --- CHART 1: Question Types (Gradient Blue) ---
            // Palettes: White-Blue -> Light Blue (approx. Material Blue 50 -> 400)
            const qTypeColors = [
                '#e1f5fe', // L
                '#b3e5fc', // C
                '#81d4fa', // H
                '#4fc3f7', // U
                '#29b6f6'  // W
            ];

            const qTypeMap = {
                "Language Analysis": "Language Analysis",
                "Contextual Inference": "Contextual Inference",
                "Humor & Popularity": "Humor & Popularity",
                "Usage & Application": "Usage & Application",
                "World Knowledge": "World Knowledge"
            };
            const shortQTypes = Object.keys(qTypeMap);

            // Construct datasets: Each Q-Type is a dataset
            const datasetsQType = shortQTypes.map((short, index) => {
                const fullName = qTypeMap[short];
                const dataPoints = modelNames.map(model => modelPerfData[model][fullName]);
                return {
                    label: fullName, // Short label for Legend
                    fullName: fullName, // Custom prop for tooltip
                    data: dataPoints,
                    backgroundColor: qTypeColors[index],
                    borderColor: '#fff',
                    borderWidth: 1
                };
            });

            new Chart(document.getElementById('chartModelQTypes'), {
                type: 'bar',
                data: {
                    labels: modelNames,
                    datasets: datasetsQType
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,

                    scales: {
                        y: { beginAtZero: true, max: 100, title: {display: true, text: 'Accuracy (%)'} },
                        x: { 
                            ticks: { 
                                font: { weight: 'bold', size: 16},
                                autoSkip: false,
                                maxRotation: 45,
                                minRotation: 0
                            } 
                        }
                    },
                    plugins: {
                        legend: { position: 'top', labels: { font: { size: 16 } } },
                        // ADD THIS TOOLTIP BLOCK HERE:
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    // This forces 1 decimal place (e.g., 46.0)
                                    if (context.parsed.y !== null) {
                                        label += Number(context.parsed.y).toFixed(1) + '%';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            // --- CHART 2: Sound Categories (Blue + Grey AVG) ---
            const soundCategories = ["Speech", "Song", "Music", "Sound Effect", "AVG"];
            const soundColors = [
                '#c3e7e3', // Speech
                '#a6e0d9', // Song
                '#7fd1c6', // Music
                '#55c2b4', // SFX
                '#dcdcdc'  // AVG
            ];

            const datasetsSound = soundCategories.map((cat, index) => {
                const dataPoints = modelNames.map(model => modelPerfData[model][cat]);
                return {
                    label: cat,
                    data: dataPoints,
                    backgroundColor: soundColors[index],
                    borderColor: '#fff',
                    borderWidth: 1
                };
            });

            new Chart(document.getElementById('chartModelSoundCats'), {
                type: 'bar',
                data: {
                    labels: modelNames,
                    datasets: datasetsSound
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, max: 100, title: {display: true, text: 'Accuracy (%)'} },
                         x: { 
                            ticks: { 
                                font: { weight: 'bold', size: 16},
                                autoSkip: false,
                                maxRotation: 45,
                                minRotation: 0
                            } 
                        }
                    },
                    plugins: {
                        legend: { position: 'top', labels: { font: { size: 16 } } },
                        // ADD THIS TOOLTIP BLOCK HERE:
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    // This forces 1 decimal place (e.g., 46.0)
                                    if (context.parsed.y !== null) {
                                        label += Number(context.parsed.y).toFixed(1) + '%';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        }

        // --- NEW: MODAL FUNCTIONS ---
        const modal = document.getElementById("transcriptionModal");
        const closeModalSpan = document.getElementsByClassName("close-modal")[0];
        const modalText = document.getElementById("fullTranscriptionText");

        function openModal(text) {
            modalText.innerText = text;
            modal.classList.add('show');
        }

        // Close when clicking (x)
        closeModalSpan.onclick = function() {
            modal.classList.remove('show');
        }

        // Close when clicking outside the box
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.classList.remove('show');
            }
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            initWheel();
            initCharts();
        });

    </script>
</body>
</html>